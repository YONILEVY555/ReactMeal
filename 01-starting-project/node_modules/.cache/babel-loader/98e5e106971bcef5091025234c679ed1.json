{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yonil\\\\Desktop\\\\reactProject\\\\01-starting-project\\\\src\\\\components\\\\cart\\\\Cart.js\",\n    _s = $RefreshSig$();\n\nimport react, { Fragment, useReducer } from 'react';\nimport { findIdexInArrayObject } from '../../helpers/ArrayHelpers';\nimport CartItem from './CartItem.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst cartReducer = (prevState, action) => {\n  const indexItem = findIdexInArrayObject(items, item);\n  if (action.type == 'ADD_ITEM') return addItem(prevState.items, action.item, prevState.totalPrice);\n  if (action.type == 'SUB_ITEM') return subItem(prevState.items, action.item, prevState.totalPrice);\n};\n\nconst addItem = (items, item, totalPrice) => {\n  let updatedItems = [...items];\n\n  if (isItemExists(items, item)) {\n    updatedItems[indexItem].amount += item.amount;\n  } else {\n    updatedItems = [...updatedItems, item];\n  }\n\n  const updatedTotalPrice = totalPrice + item.amount * item.price;\n  return {\n    items: updatedItems,\n    totalPrice: updatedTotalPrice\n  };\n};\n\nconst subItem = (items, item, totalPrice) => {\n  let updatedItems = [...items];\n\n  if (islessOneLeft(items, item)) {\n    updatedItems = updatedItems.filter(i => i.id != item.id);\n  } else {\n    updatedItems[indexItem].amount -= item.amount;\n  }\n\n  const updatedTotalPrice = totalPrice - item.amount * item.price;\n  return {\n    items: updatedItems,\n    totalPrice: updatedTotalPrice\n  };\n};\n\nconst isItemExists = (items, item) => {\n  const indexItem = findIdexInArrayObject(items, item);\n\n  if (indexItem === -1) {\n    return false;\n  }\n\n  return true;\n};\n\nconst islessOneLeft = (items, item) => {\n  const indexItem = findIdexInArrayObject(items, item);\n  const updatedAmount = items[indexItem].amount - item.amount;\n\n  if (updatedAmount < 1) {\n    return true;\n  }\n\n  return false;\n};\n\nconst Cart = () => {\n  _s();\n\n  const [cartState, dispatchCartAct] = useReducer(cartReducer, {});\n\n  const addItemHandler = props => {\n    const action = {\n      type: 'ADD_ITEM',\n      item: props.item\n    };\n    dispatchCartAct(action);\n  };\n\n  const subItemHandler = props => {\n    const action = {\n      type: 'SUB_ITEM',\n      item: props.item\n    };\n    dispatchCartAct(action);\n  };\n\n  const dummy = {\n    type: 'ADD_ITEM',\n    item: {\n      id: 'sushi',\n      amount: 3,\n      price: 40\n    }\n  };\n  dispatchCartAct(dummy);\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: cartState.items.map(item => /*#__PURE__*/_jsxDEV(CartItem, {\n        nameMeal: item.id,\n        amount: item.amount,\n        price: item.price,\n        onClickAddItem: addItemHandler,\n        onClickSubItem: subItemHandler\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 46\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 15\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 12\n  }, this);\n};\n\n_s(Cart, \"hY+1eLGReBhg1I2C31tdzLhpsuc=\");\n\n_c = Cart;\nexport default Cart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["react","Fragment","useReducer","findIdexInArrayObject","CartItem","cartReducer","prevState","action","indexItem","items","item","type","addItem","totalPrice","subItem","updatedItems","isItemExists","amount","updatedTotalPrice","price","islessOneLeft","filter","i","id","updatedAmount","Cart","cartState","dispatchCartAct","addItemHandler","props","subItemHandler","dummy","map"],"sources":["C:/Users/yonil/Desktop/reactProject/01-starting-project/src/components/cart/Cart.js"],"sourcesContent":["\r\n\r\nimport react,{Fragment,useReducer} from 'react'\r\nimport {findIdexInArrayObject} from '../../helpers/ArrayHelpers'\r\nimport CartItem from './CartItem.js'\r\n\r\n\r\nconst cartReducer = (prevState, action) =>{\r\n\r\n    const indexItem = findIdexInArrayObject(items,item)\r\n\r\n    if(action.type=='ADD_ITEM')\r\n      return addItem(prevState.items,action.item,prevState.totalPrice)\r\n\r\n    if(action.type=='SUB_ITEM')\r\n      return subItem(prevState.items,action.item,prevState.totalPrice)  \r\n\r\n}\r\n\r\nconst addItem = (items,item,totalPrice) =>{\r\n     \r\n    let updatedItems = [...items]; \r\n\r\n    if(isItemExists(items,item)){\r\n        updatedItems[indexItem].amount += item.amount;\r\n    }else{\r\n        updatedItems = [...updatedItems,item]\r\n    }\r\n\r\n    const updatedTotalPrice = totalPrice + (item.amount*item.price) \r\n\r\n    return { items: updatedItems, totalPrice: updatedTotalPrice };\r\n\r\n}\r\n\r\nconst subItem = (items,item,totalPrice) =>{\r\n     \r\n    let updatedItems = [...items]; \r\n\r\n    if(islessOneLeft(items,item)){\r\n        updatedItems = updatedItems.filter(i => i.id != item.id) ;\r\n    }else{\r\n        updatedItems[indexItem].amount -= item.amount; \r\n    }\r\n\r\n    const updatedTotalPrice = totalPrice - (item.amount*item.price) \r\n\r\n    return { items: updatedItems, totalPrice: updatedTotalPrice };\r\n\r\n}\r\n\r\nconst isItemExists = (items,item) =>{\r\n\r\n    const indexItem = findIdexInArrayObject(items,item)\r\n\r\n    if ( indexItem === -1){\r\n      return false\r\n    }\r\n\r\n    return true;\r\n\r\n}\r\n\r\nconst islessOneLeft = (items,item) =>{\r\n\r\n    const indexItem = findIdexInArrayObject(items,item)\r\n\r\n    const updatedAmount = items[indexItem].amount - item.amount; \r\n\r\n    if ( updatedAmount < 1 ){\r\n        return true\r\n      }\r\n  \r\n      return false;\r\n\r\n}\r\n\r\nconst Cart = () =>{\r\n\r\n    const [cartState, dispatchCartAct] = useReducer(cartReducer,{});\r\n\r\n    const addItemHandler = (props) =>{\r\n\r\n        const action = {type: 'ADD_ITEM',\r\n                        item: props.item\r\n                       }\r\n\r\n        dispatchCartAct(action)\r\n    }\r\n\r\n    const subItemHandler =  (props) =>{\r\n\r\n        const action = {type: 'SUB_ITEM',\r\n                        item: props.item\r\n                       }\r\n\r\n        dispatchCartAct(action)\r\n\r\n    }\r\n\r\n    const dummy = {\r\n        type: 'ADD_ITEM',\r\n        item: {\r\n            id: 'sushi',\r\n            amount: 3,\r\n            price: 40\r\n        }\r\n    }\r\n\r\n    dispatchCartAct(dummy)\r\n\r\n    return <Fragment>\r\n\r\n              <ul>\r\n\r\n              {cartState.items.map(item => ( < CartItem key={item.id}\r\n                                                        nameMeal = {item.id}\r\n                                                        amount = {item.amount} \r\n                                                        price = {item.price}\r\n                                                        onClickAddItem = {addItemHandler} \r\n                                                        onClickSubItem = {subItemHandler}/>) )}\r\n             </ul>\r\n\r\n          </Fragment>\r\n\r\n}\r\n\r\nexport default Cart"],"mappings":"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"},"metadata":{},"sourceType":"module"}