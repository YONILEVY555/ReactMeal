{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yonil\\\\Desktop\\\\reactProject\\\\01-starting-project\\\\src\\\\components\\\\cart\\\\Cart.js\",\n    _s = $RefreshSig$();\n\nimport react, { Fragment, useReducer } from 'react';\nimport { findIdexInArrayObject } from '../../helpers/ArrayHelpers';\nimport CartItem from './CartItem.js';\nimport CartContext from '../../store/CartContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst dummy = {\n  totalPrice: 120,\n  items: [{\n    id: 'sushi',\n    amount: 3,\n    price: 40\n  }]\n};\n\nconst cartReducer = (prevState, action) => {\n  console.log(prevState);\n  if (action.type == 'ADD_ITEM') return addItem(prevState.items, action.item, prevState.totalPrice);\n  if (action.type == 'SUB_ITEM') return subItem(prevState.items, action.item, prevState.totalPrice);\n};\n\nconst addItem = (items, item, totalPrice) => {\n  const indexItem = findIdexInArrayObject(items, item);\n  let updatedItems = [...items];\n\n  if (isItemExists(indexItem)) {\n    updatedItems[indexItem].amount += item.amount;\n  } else {\n    updatedItems = [...updatedItems, item];\n  }\n\n  const updatedTotalPrice = totalPrice + item.amount * item.price;\n  return {\n    items: updatedItems,\n    totalPrice: updatedTotalPrice\n  };\n};\n\nconst subItem = (items, item, totalPrice) => {\n  const indexItem = findIdexInArrayObject(items, item);\n  let updatedItems = [...items];\n\n  if (islessOneLeft(items, item, indexItem)) {\n    updatedItems = updatedItems.filter(i => i.id != item.id);\n  } else {\n    updatedItems[indexItem].amount -= item.amount;\n  }\n\n  const updatedTotalPrice = totalPrice - item.amount * item.price;\n  return {\n    items: updatedItems,\n    totalPrice: updatedTotalPrice\n  };\n};\n\nconst isItemExists = indexItem => {\n  if (indexItem === -1) {\n    return false;\n  }\n\n  return true;\n};\n\nconst islessOneLeft = (items, item, indexItem) => {\n  const updatedAmount = items[indexItem].amount - item.amount;\n\n  if (updatedAmount < 1) {\n    return true;\n  }\n\n  return false;\n};\n\nconst Cart = () => {\n  _s();\n\n  const [cartState, dispatchCartAct] = useReducer(cartReducer, dummy);\n\n  const addItemHandler = item => {\n    console.log('im here 222');\n    const action = {\n      type: 'ADD_ITEM',\n      item: item\n    };\n    dispatchCartAct(action);\n  };\n\n  const subItemHandler = item => {\n    const action = {\n      type: 'SUB_ITEM',\n      item: item\n    };\n    dispatchCartAct(action);\n  };\n\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      addItemHandler: addItemHandler,\n      subItemHandler: subItemHandler\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n      children: cartState.items.map(item => /*#__PURE__*/_jsxDEV(CartItem, {\n        id: item.id,\n        amount: item.amount,\n        price: item.price,\n        addItemHandler: addItemHandler,\n        subItemHandler: subItemHandler\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 46\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Total price: \", cartState.totalPrice]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"order\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 12\n  }, this);\n};\n\n_s(Cart, \"X9SX+dPINntZEhYlLLuKfBJNoUs=\");\n\n_c = Cart;\nexport default Cart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["react","Fragment","useReducer","findIdexInArrayObject","CartItem","CartContext","dummy","totalPrice","items","id","amount","price","cartReducer","prevState","action","console","log","type","addItem","item","subItem","indexItem","updatedItems","isItemExists","updatedTotalPrice","islessOneLeft","filter","i","updatedAmount","Cart","cartState","dispatchCartAct","addItemHandler","subItemHandler","map"],"sources":["C:/Users/yonil/Desktop/reactProject/01-starting-project/src/components/cart/Cart.js"],"sourcesContent":["\r\n\r\nimport react,{Fragment,useReducer} from 'react'\r\nimport {findIdexInArrayObject} from '../../helpers/ArrayHelpers'\r\nimport CartItem from './CartItem.js'\r\nimport CartContext from '../../store/CartContext'\r\n\r\n\r\nconst dummy = {\r\n\r\n    totalPrice: 120,\r\n    items: [{\r\n        id: 'sushi',\r\n        amount: 3,\r\n        price: 40\r\n    }]\r\n\r\n}\r\n\r\nconst cartReducer = (prevState, action) =>{\r\n\r\n    console.log(prevState)\r\n\r\n    if(action.type=='ADD_ITEM')\r\n      return addItem(prevState.items,action.item,prevState.totalPrice)\r\n\r\n    if(action.type=='SUB_ITEM')\r\n      return subItem(prevState.items,action.item,prevState.totalPrice)  \r\n\r\n}\r\n\r\nconst addItem = (items,item,totalPrice) =>{\r\n\r\n    const indexItem = findIdexInArrayObject(items,item)\r\n     \r\n    let updatedItems = [...items]; \r\n\r\n    if(isItemExists(indexItem)){\r\n        updatedItems[indexItem].amount += item.amount;\r\n    }else{\r\n        updatedItems = [...updatedItems,item]\r\n    }\r\n\r\n    const updatedTotalPrice = totalPrice + (item.amount*item.price) \r\n\r\n    return { items: updatedItems, totalPrice: updatedTotalPrice };\r\n\r\n}\r\n\r\nconst subItem = (items,item,totalPrice) =>{\r\n\r\n    \r\n    const indexItem = findIdexInArrayObject(items,item)\r\n     \r\n    let updatedItems = [...items]; \r\n\r\n    if(islessOneLeft(items,item,indexItem)){\r\n        updatedItems = updatedItems.filter(i => i.id != item.id) ;\r\n    }else{\r\n        updatedItems[indexItem].amount -= item.amount; \r\n    }\r\n\r\n    const updatedTotalPrice = totalPrice - (item.amount*item.price) \r\n\r\n    return { items: updatedItems, totalPrice: updatedTotalPrice };\r\n\r\n}\r\n\r\nconst isItemExists = (indexItem) =>{\r\n\r\n    if ( indexItem === -1){\r\n      return false\r\n    }\r\n\r\n    return true;\r\n\r\n}\r\n\r\nconst islessOneLeft = (items,item,indexItem) =>{\r\n\r\n    const updatedAmount = items[indexItem].amount - item.amount; \r\n\r\n    if ( updatedAmount < 1 ){\r\n        return true\r\n      }\r\n  \r\n      return false;\r\n\r\n}\r\n\r\nconst Cart = () =>{\r\n\r\n    const [cartState, dispatchCartAct] = useReducer(cartReducer,dummy);\r\n\r\n    const addItemHandler = (item)=>{\r\n\r\n        console.log('im here 222')\r\n\r\n        const action = {type: 'ADD_ITEM',\r\n                        item: item\r\n                       }\r\n\r\n        dispatchCartAct(action)\r\n    }\r\n\r\n    const subItemHandler = (item) => {\r\n\r\n        const action = {type: 'SUB_ITEM',\r\n                        item: item\r\n                       }\r\n\r\n        dispatchCartAct(action)\r\n\r\n    }\r\n\r\n    return <CartContext.Provider value={{ addItemHandler:addItemHandler ,\r\n                                         subItemHandler:subItemHandler} } >\r\n\r\n              <ul>\r\n\r\n              {cartState.items.map(item => ( < CartItem \r\n                                                                    key={item.id}\r\n                                                                    id = {item.id}\r\n                                                                    amount = {item.amount} \r\n                                                                    price = {item.price}\r\n                                                                    addItemHandler = {addItemHandler} \r\n                                                                    subItemHandler = {subItemHandler}/>\r\n                                            ) )}\r\n             </ul>\r\n\r\n             <div>Total price: {cartState.totalPrice}</div>\r\n                <div>\r\n                    <button>order</button>\r\n                    <button>close</button>\r\n            </div>\r\n\r\n         </CartContext.Provider>\r\n\r\n}\r\n\r\nexport default Cart"],"mappings":"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"},"metadata":{},"sourceType":"module"}